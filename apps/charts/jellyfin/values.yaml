image:
  repository: docker.io/jellyfin/jellyfin
  tag: latest@sha256:333b647716631443a43c7fabac4b0c46b4e2f036bad19547e00958f10f721b85
  pullPolicy: IfNotPresent

subdomain: jellyfin

# Deployment configuration
deployment:
  strategy: Recreate
  replicas: 1

# Container configuration
container:
  port: 8096
  healthProbe:
    type: tcpSocket
    port: http # Use named port

# Service configuration
service:
  port: 80
  targetPort: 8096
  type: ClusterIP

# OIDC client
oidc:
  enabled: true
  redirectUris:
    - "/sso/OID/redirect/Authentik"

# Volume configuration
volumes:
  - name: config
    mountPath: /config
    persistentVolumeClaim: config
  - name: movies
    mountPath: /media/movies
    persistentVolumeClaim: movies # External PVC (not prefixed)
  - name: tvshows
    mountPath: /media/tv-shows
    persistentVolumeClaim: tvshows # External PVC (not prefixed)
  - name: music
    mountPath: /media/music
    persistentVolumeClaim: music # External PVC (not prefixed)

# Persistent volume claims
persistentVolumeClaims:
  - name: config
    size: 5Gi
    storageClassName: persistent

# VirtualService configuration
virtualService:
  enabled: true
  gateways:
    public: true
    private: true
